<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIRTHA FUEL CENTER - Bill Preview</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div id="dashboard">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header d-flex">
                <h4 class="text-center flex-grow-1">TIRTHA FUEL CENTER</h4>
                <button class="btn-close btn-close-white mobile-only" onclick="toggleSidebar()" aria-label="Close"></button>
            </div>
            <ul class="sidebar-menu">
               
                <li><a href="creatbill.html"><i class="fas fa-file-invoice me-2"></i> Create Bill</a></li>
                <li><a href="reports.html"><i class="fas fa-chart-bar me-2"></i> Reports</a></li>
                <li><a href="index.html"><i class="fas fa-sign-out-alt me-2"></i> Logout</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <!-- Navbar -->
            <nav class="navbar navbar-expand navbar-light navbar-custom mb-4">
                <div class="container-fluid">
                    <button class="navbar-toggler menu-toggle" type="button" onclick="toggleSidebar()">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="navbar-nav ms-auto">
                        <span class="navbar-text me-3">
                            Welcome, <strong>Admin</strong>
                        </span>
                    </div>
                </div>
            </nav>

            <!-- Bill Preview Content -->
            <div class="dashboard-page">
                <button class="btn btn-secondary mobile-only mobile-back-btn" onclick="window.location.href='creatbill.html'">
                    <i class="fas fa-arrow-left me-1"></i> Back
                </button>
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h4>Bill Preview</h4>
                    <div>
                        <button class="btn btn-success me-2" onclick="window.print()"><i class="fas fa-print me-1"></i> Print</button>
                        <button class="btn btn-secondary desktop-only" onclick="window.location.href='creatbill.html'"><i class="fas fa-arrow-left me-1"></i> Back</button>
                    </div>
                </div>
                
                <div class="bill-container" id="printableBill">
                    <div class="bill-header">
                        <strong>TIRTHA FUEL CENTRE</strong><br>
                        KHANAMODA.BAHARAGORA<br>
                        NH-6
                    </div>
                    <table class="bill-table">
                        <tr>
                            <td>Bill No:</td>
                            <td id="preview-fpid"></td>
                        </tr>
                        <tr>
                            <td>Date:</td>
                            <td id="preview-date"></td>
                        </tr>
                        <tr>
                            <td>Time:</td>
                            <td id="preview-time"></td>
                        </tr>
                        <tr>
                            <td>Veh. No:</td>
                            <td id="preview-vehiclenumber"></td>
                        </tr>
                        <tr>
                            <td>Fuel:</td>
                            <td id="preview-fueltype"></td>
                        </tr>
                        <tr>
                            <td>Rate:</td>
                            <td id="preview-rateperlitre"></td>
                        </tr>
                        <tr>
                            <td>Quantity:</td>
                            <td id="preview-volume"></td>
                        </tr>
                        <tr>
                            <td><strong>Total:</strong></td>
                           <td id="preview-sale"></td>
                        </tr>
                    </table>
                    <div class="bill-footer">
                         <img src="assets/indianoil.png" alt="Company Logo" width="100%">
                        THANK YOU VISIT AGAIN.<br><br>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/common.js"></script>
  <script>
document.addEventListener("DOMContentLoaded", function () {
    const data = JSON.parse(localStorage.getItem("billData") || "{}");
    console.log(data)
    
    // Example: Fill preview elements
    document.getElementById("preview-fpid").textContent = data.Fp_id || '';
    document.getElementById("preview-date").textContent = data.Date || '';
    document.getElementById("preview-time").textContent = formatDateTime(data.Date) || '';
    document.getElementById("preview-vehiclenumber").textContent = data.Vehicle_Number || '';
    document.getElementById("preview-fueltype").textContent = data.Fuel_Type || '';
    document.getElementById("preview-rateperlitre").textContent = data.Rate_per_litre ? `₹${data.Rate_per_litre}` : '';
    document.getElementById("preview-volume").textContent = data.Volume ? `${data.Volume} L` : '';
    document.getElementById("preview-sale").textContent = data.sale ? `₹${data.sale}` :'';
    
});
  function formatDateTime(dateStr) {
    if (!dateStr) return '';
    const date = new Date(dateStr);
    if (isNaN(date.getTime())) return dateStr; // fallback if invalid date

    const pad = n => n.toString().padStart(2, '0');

    const day = pad(date.getDate());
    const month = pad(date.getMonth() + 1);
    const year = date.getFullYear();

    const hours = pad(date.getHours());
    const minutes = pad(date.getMinutes());
    const seconds = pad(date.getSeconds());

    return `${hours}:${minutes}:${seconds}`;
}

</script>



</body>
</html>